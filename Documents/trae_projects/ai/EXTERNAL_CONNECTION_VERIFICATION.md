# OpenAgents 外网连接验证指南

## 配置状态确认

根据您提供的截图，内网穿透映射已成功创建并生效：

| 配置项 | 值 | 状态 |
|-------|-----|------|
| 映射类型 | HTTP | ✅ 已启用 |
| 外网地址 | http://1nz171374pe64.vicp.fun:34675 | ✅ 已分配 |
| 内网地址 | 192.168.91.179:8700 | ✅ 已配置 |
| 带宽 | 1Mbps | ✅ 已分配 |

## 验证连接步骤

### 1. 本地服务状态确认

OpenAgents 服务正在正常运行：
- ✅ 服务监听地址：0.0.0.0:8700
- ✅ 本地访问测试：已通过 `http://localhost:8700` 验证
- ✅ 服务状态：持续运行中

### 2. 外网连接验证

现在请按照以下步骤验证外网连接：

#### 方法一：浏览器直接访问

1. 打开任意浏览器（推荐使用 Chrome、Firefox 或 Edge）
2. 在地址栏输入完整的外网地址：`http://1nz171374pe64.vicp.fun:34675`
3. 按下 Enter 键访问

**预期结果**：
- 页面加载成功，显示 OpenAgents 网络界面
- 浏览器显示 HTTP 200 OK 状态

#### 方法二：使用手机网络测试

1. 将手机连接到 4G/5G 网络（确保与电脑不在同一局域网）
2. 打开手机浏览器
3. 输入外网地址：`http://1nz171374pe64.vicp.fun:34675`
4. 访问并检查页面是否正常加载

**预期结果**：
- 页面能正常加载，说明外网访问已成功

#### 方法三：使用 curl 命令测试（可选）

如果您熟悉命令行，可以使用 curl 命令测试：

```bash
curl -I http://1nz171374pe64.vicp.fun:34675
```

**预期结果**：
```
HTTP/1.1 200 OK
...
```

## 连接成功后的操作

### 1. 在 OpenAgents Studio 中连接

1. 打开 OpenAgents Studio
2. 在连接界面输入您的外网地址：`http://1nz171374pe64.vicp.fun:34675`
3. 点击 "连接" 按钮
4. 如果需要认证，根据提示输入相应信息（当前配置为无认证）

### 2. 与团队成员共享

您可以将此外网地址分享给团队成员，让他们也能访问您的 OpenAgents 网络：

```
OpenAgents 网络访问地址：http://1nz171374pe64.vicp.fun:34675
```

## 常见问题排查

如果无法访问外网地址，请尝试以下排查步骤：

1. **检查 OpenAgents 服务状态**
   - 确认服务正在运行：`curl http://localhost:8700`
   - 如果服务停止，请重新启动：`openagents network start ./my_first_network`

2. **检查内网穿透状态**
   - 确认映射状态为 "已生效"
   - 尝试重新启动内网穿透服务

3. **检查 Windows 防火墙**
   - 确认 8700 端口已允许入站连接
   - 参考 `INTRANET_CONNECTION_TROUBLESHOOTING.md` 中的防火墙配置指南

4. **检查网络环境**
   - 确认网络连接正常
   - 尝试更换网络环境测试

## 后续维护建议

1. **定期检查服务状态**
   - 定期检查 OpenAgents 服务是否正常运行
   - 确保内网穿透映射保持生效状态

2. **备份配置信息**
   - 记录外网地址和配置参数
   - 定期备份 `my_first_network/network.yaml` 配置文件

3. **更新和升级**
   - 关注 OpenAgents 版本更新
   - 定期更新内网穿透客户端软件

如果您在使用过程中遇到任何问题，请参考 `INTRANET_CONNECTION_TROUBLESHOOTING.md` 文件获取详细的故障排除指南，或联系技术支持。